<?xml version="1.0" encoding="UTF-8"?><biztoolcfg qryfmtOpCreate="SET @seq=0;SELECT SUBSTR(VehicleRealTimeCode,-5)+0 INTO @seq FROM tms.xtmst_vehiclerealtime WHERE DATE(CreateDate)=CURDATE() ORDER BY VehicleRealTimeCode DESC LIMIT 0,1;SELECT generate_orderNo(Code_Prefix, DT_MODE, @seq,'','') INTO @odn FROM tms.xms_doc_code WHERE docType='vehiclerealtime';insert into %{table} %{data};" qryfmtOpUpdate="" loadedClick="0" tableNm="xtmst_vehiclerealtime" referLst="0" onLoadInit="0" tableTxt="xtmst_vehiclerealtime" LstTP="Lst" lines2Link="" jointbls="1" header2Link="" exdata4select=""><DataLstExtElmt><![CDATA[<DbDetails><queryFormat>select %{data} from %{dbtable} where x.carrierid='%{orgguid}' %{where} limit %{StartRow},%{PgSize}</queryFormat></DbDetails>]]></DataLstExtElmt><DataLstExtAttr><![CDATA[    colsDisplay="18"]]></DataLstExtAttr><operators4v><![CDATA[<xi:include xmlns:xi="http://www.w3.org/2001/XInclude" href="xtmst_vehiclerealtime_ops.xml"/>]]></operators4v><Ctrls><Ctrl name="vehiclerealtimecode" insertparam="if('%{VehicleRealTimeCode}'='',@odn,'%{VehicleRealTimeCode}')" noUpdate="1"/><Ctrl ctrldbname="tms." name="deliverymode" ctrldbwhere="TableName='DispatchPlan' and ColumnName='DeliveryMode'" ctrldbtable="xtmsc_type_option" xTp="ComboBox" ctrldbdata="TypeName,TypeCode" ctrldbdatarel="typecode" ctrltype="ComboBox"><extattr><![CDATA[ onload="init"]]></extattr></Ctrl><Ctrl ctrldbname="tms." name="consignmentmode" ctrldbwhere="TableName='DispatchPlan' and ColumnName='ConsignmentMode'" ctrldbtable="xtmsc_type_option" xTp="ComboBox" ctrldbdata="TypeName,TypeCode" ctrldbdatarel="typecode" ctrltype="ComboBox"><extattr><![CDATA[ onload="init"]]></extattr></Ctrl><Ctrl ctrldbname="tms." name="operateineid" ctrldbtable="xtmsm_operateline" xTp="ComboBox" ctrldbdata="operateline_name,cityid_start,cityid_end,operateineId" ctrldbdatarel="operateineid" ctrltype="ComboBox"><extelmt><![CDATA[<OnSelEndOk><submit next="FromCityID"/><submit next="ToCityID"/></OnSelEndOk>]]></extelmt><extattr><![CDATA[ onload="init"]]></extattr></Ctrl><Ctrl nomodify="1" ctrldbname="tms." name="fromcityid" ctrldbwhere="CityID='%{operateineId[cityid_start]}'" ctrldbtable="xtmsm_master_city" ctrldbdata="CityAllName,CityID" ctrldbdatarel="cityid"/><Ctrl nomodify="1" ctrldbname="tms." name="tocityid" ctrldbwhere="CityID='%{operateineId[cityid_end]}' " ctrldbtable="xtmsm_master_city" ctrldbdata="CityAllName,CityID" ctrldbdatarel="cityid"/><Ctrl dbfcsm="1" nomodify="1" ctrldbname="tms." name="fromxsiteid" ctrldbtable="xtmsm_xsite" ctrldbdata="XSiteName,Address FromAddress,XSiteID" ctrldbdatarel="xsiteid"><addon><![CDATA[<MagicCtrl Name="pick%{colNm}" Link="tip:Pick" images=",data/search.png" button="type:0" Size="20,20"><OnClick><assign name="$parent.XSitePick.frmwndctrl" expr="xtmst_vehiclerealtime.FromXSiteID"/></OnClick></MagicCtrl>\r\n]]></addon></Ctrl><Ctrl dbfcsm="1" nomodify="1" ctrldbname="tms." name="toxsiteid" ctrldbtable="xtmsm_xsite" ctrldbdata="XSiteName,Address ToAddress,XSiteID" ctrldbdatarel="xsiteid"><addon><![CDATA[<MagicCtrl Name="pick%{colNm}" Link="tip:Pick" images=",data/search.png" button="type:0" Size="20,20"><OnClick><assign name="$parent.XSitePick.frmwndctrl" expr="xtmst_vehiclerealtime.ToXSiteID"/></OnClick></MagicCtrl>\r\n]]></addon></Ctrl><Ctrl nomodify="1" name="fromaddress"/><Ctrl nomodify="1" name="toaddress"/><Ctrl nomodify="1" ctrldbname="tms." name="vehicleid" ctrldbtable="xtmsm_vehicle" noUpdate="1" ctrldbdata="Platenumber,CarrierID,Volume,Weight,Driver,LorryDriver,VehicleID" ctrldbdatarel="vehicleid"><extelmt><![CDATA[<OnEnChange><submit next="DriverID"/><submit next="LorryDriver"/><assign name="TotalVolume" expr="%{VehicleID[Volume]}"/><assign name="TotalWeight" expr="%{VehicleID[Weight]}"/></OnEnChange>]]></extelmt><addon><![CDATA[<MagicCtrl Name="pick%{colNm}" Link="tip:Pick" images=",data/search.png" button="type:0" Size="20,20"><OnClick><assign name="$parent.VehiclePick.frmwndctrl" expr="xtmst_vehiclerealtime.Vehicleid"/><assign name="$parent.VehiclePick.carrierid" expr="%{orgguid}"/><submit next="$parent.VehiclePick.xtmsm_vehicle_vLst"/></OnClick></MagicCtrl>\r\n]]></addon></Ctrl><Ctrl nomodify="1" ctrldbname="tms." name="driverid" ctrldbwhere="DriverID='%{VehicleID[Driver]}'" ctrldbtable="xtmsm_driver" ctrldbdata="DriverName,DriverID" ctrldbdatarel="driverid"/><Ctrl nomodify="1" ctrldbname="tms." name="lorrydriver" ctrldbwhere="DriverID='%{VehicleID[LorryDriver]}'" ctrldbtable="xtmsm_driver" ctrldbdata="DriverName,DriverID" ctrldbdatarel="driverid"/><Ctrl noquery="1" nomodify="1" ctrldbname="tms." ctrlhide="1" name="status" ctrldbwhere="StatusType=4" ctrldbtable="xtmsc_status_option" noUpdate="1" ctrldbdata="StatusName,StatusCode" ctrldbdatarel="statuscode"/><Ctrl noquery="1" nomodify="1" ctrlhide="1" name="freightnum" noInsert="1" noUpdate="1"/><Ctrl nomodify="1" name="totalweight"/><Ctrl nomodify="1" name="totalvolumn"/><Ctrl noquery="1" nomodify="1" ctrlhide="1" name="remainweight" noInsert="1" noUpdate="1"/><Ctrl noquery="1" nomodify="1" ctrlhide="1" name="remainvolumn" noInsert="1" noUpdate="1"/><Ctrl noquery="1" nomodify="1" ctrldbname="tms." ctrlhide="1" name="carrierid" insertparam="'%{orgguid}'" noUpdate="1"/><Ctrl noquery="1" nomodify="1" ctrldbname="tms." ctrlhide="1" name="vehiclerealtimeid" insertparam="uuid()" noUpdate="1"/><Ctrl noquery="1" nomodify="1" ctrlhide="1" name="createby" insertparam="'%{user_id}'" updateparam="'%{user_id}'" noUpdate="1"/><Ctrl noquery="1" nomodify="1" ctrlhide="1" name="createdate" insertparam="now()" noUpdate="1"/><Ctrl noquery="1" nomodify="1" ctrlhide="1" name="updateby" insertparam="'%{user_id}'" updateparam="'%{user_id}'"/><Ctrl noquery="1" nomodify="1" ctrlhide="1" name="updatedate" insertparam="now()" updateparam="now()"/><Ctrl noused="1" noquery="1" nomodify="1" ctrlhide="1" name="ismanual" noInsert="1" noUpdate="1"/><Ctrl noquery="1" nomodify="1" ctrlhide="1" name="depotnum" noInsert="1" noUpdate="1"/><Ctrl name="startdatetime"/><Ctrl name="startdatetimeactual"/><Ctrl name="terminatedatetime"/><Ctrl name="terminatedatetimeactual"/></Ctrls></biztoolcfg>