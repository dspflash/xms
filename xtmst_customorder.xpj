<?xml version="1.0" encoding="UTF-8"?><biztoolcfg qryfmtOpCreate="SET @seq=0;SELECT SUBSTR(OrderCode,-5)+0 INTO @seq FROM tms.xtmst_customorder WHERE DATE(CreateDate)=CURDATE() ORDER BY OrderCode DESC LIMIT 0,1;SELECT generate_orderNo(Code_Prefix, DT_MODE, @seq,'','') INTO @odn FROM tms.xms_doc_code WHERE docType='customorder';insert into %{table} %{data};" qryfmtOpUpdate="" loadedClick="0" tableNm="xtmst_customorder" referLst="0" onLoadInit="0" tableTxt="xtmst_customorder" LstTP="Lst" lines2Link="xtmst_customorderdetail" jointbls="1" header2Link="" exdata4select=""><DataLstExtElmt><![CDATA[<DbDetails><Where>x.carrierid='%{orgguid}'</Where></DbDetails>]]></DataLstExtElmt><Ctrls><Ctrl nomodify="1" name="ordercode" tabName="Basic" insertparam="@odn" noUpdate="1"/><Ctrl ctrldbname="tms." name="deliverymode" ctrldbwhere="TableName = 'DispatchPlan' AND ColumnName = 'DeliveryMode'" ctrldbtable="xtmsc_type_option" xTp="ComboBox" ctrldbdata="TypeName,TypeCode" ctrldbdatarel="typecode" ctrltype="ComboBox"><extattr><![CDATA[ onload="init"]]></extattr></Ctrl><Ctrl ctrldbname="tms." name="consignmentmode" ctrldbwhere="TableName = 'DispatchPlan' AND ColumnName = 'ConsignmentMode'" ctrldbtable="xtmsc_type_option" xTp="ComboBox" ctrldbdata="TypeName,TypeCode" ctrldbdatarel="typecode" ctrltype="ComboBox"><extattr><![CDATA[ onload="init"]]></extattr></Ctrl><Ctrl noquery="1" nomodify="1" ctrldbname="tms." ctrlhide="1" name="orderstatus" noInsert="1" ctrldbwhere="status_type=90" insertparam="102" ctrldbtable="xtmsc_status_option" noUpdate="1" ctrldbdata="StatusName,StatusCode" ctrldbdatarel="statuscode"/><Ctrl noquery="1" nomodify="1" ctrldbname="tms." ctrlhide="1" name="status" ctrldbwhere="StatusType = 10" insertparam="911" ctrldbtable="xtmsc_status_option" noUpdate="1" ctrldbdata="StatusName,StatusCode" ctrldbdatarel="statuscode"/><Ctrl name="planshipmentdate"/><Ctrl name="plantodate"/><Ctrl name="timeliness"/><Ctrl ctrldbname="tms." name="memberid" ctrldbtable="xms_member" ctrldbdata="MemberName,MemberID" ctrldbdatarel="memberid"/><Ctrl noquery="1" nomodify="1" ctrldbname="tms." ctrlhide="1" name="ordersource" ctrldbwhere="TypeClass=91" insertparam="911" ctrldbtable="xtmsc_type_option" noUpdate="1" xTp="ComboBox" ctrldbdata="TypeName,TypeCode" ctrldbdatarel="typecode" ctrltype="ComboBox"><extattr><![CDATA[ onload="init"]]></extattr></Ctrl><Ctrl name="synccode"/><Ctrl name="consignee" tabName="ConsShipInfo"/><Ctrl ctrldbname="tms." name="tocityid" ctrldbtable="xtmsm_master_city" ctrldbdata="CityAllName,CityID" ctrldbdatarel="cityid"/><Ctrl name="consigneeaddress"/><Ctrl name="consigneemobilephone"/><Ctrl name="shipper"/><Ctrl ctrldbname="tms." name="fromcityid" ctrldbtable="xtmsm_master_city" ctrldbdata="CityAllName,CityID" ctrldbdatarel="cityid"/><Ctrl name="shipperaddress"/><Ctrl name="shippermobilephone"/><Ctrl name="consigneephone"/><Ctrl Required="1" name="estvolumn" tabName="FreightInfo"/><Ctrl Required="1" name="estweight"/><Ctrl name="isdangerous"/><Ctrl name="custommemo"/><Ctrl name="issealbox"/><Ctrl name="isexpressorder"/><Ctrl noused="1" ctrldbname="tms." name="fromxsiteid" ctrldbtable="xtmsm_xsite" ctrldbdata="XSiteName,XSiteID" ctrldbdatarel="xsiteid"/><Ctrl noused="1" ctrldbname="tms." name="toxsiteid" ctrldbtable="xtmsm_xsite" ctrldbdata="XSiteName,XSiteID" ctrldbdatarel="xsiteid"/><Ctrl noquery="1" nomodify="1" ctrlhide="1" name="settlementamount" noInsert="1" noUpdate="1"/><Ctrl noquery="1" nomodify="1" ctrldbname="tms." ctrlhide="1" name="settlementby" noInsert="1" ctrldbtable="xms_user" noUpdate="1" ctrldbdata="UserName,xms_user_id" ctrldbdatarel="xms_user_id"/><Ctrl noquery="1" nomodify="1" ctrlhide="1" name="settlementdate" noInsert="1" noUpdate="1"/><Ctrl noquery="1" nomodify="1" ctrldbname="tms." ctrlhide="1" name="settlementstatus" ctrldbwhere="statustype=80" insertparam="800" ctrldbtable="xtmsc_status_option" noUpdate="1" ctrldbdata="StatusName,StatusCode" ctrldbdatarel="statuscode"/><Ctrl noquery="1" nomodify="1" ctrldbname="tms." ctrlhide="1" name="ordertype" ctrldbwhere="TypeClass=90" insertparam="1" ctrldbtable="xtmsc_type_option" noUpdate="1" ctrldbdata="TypeName,TypeCode" ctrldbdatarel="typecode"/><Ctrl noused="1" name="msgtype"/><Ctrl noquery="1" nomodify="1" ctrlhide="1" name="carrycode" noInsert="1" noUpdate="1"/><Ctrl noquery="1" nomodify="1" ctrlhide="1" name="submitdate" noInsert="1" noUpdate="1"/><Ctrl noused="1" name="contractcode"/><Ctrl noused="1" name="designercode"/><Ctrl noused="1" name="consteamcode"/><Ctrl noused="1" name="ownershop"/><Ctrl noquery="1" nomodify="1" ctrlhide="1" name="iscomplain" noInsert="1" noUpdate="1"/><Ctrl ctrldbname="tms." name="linkorderid" ctrldbtable="xtmst_customorder" ctrldbdata="OrderCode,CustomerOrderID" ctrldbdatarel="customerorderid"/><Ctrl noquery="1" nomodify="1" ctrlhide="1" name="isadjustorder" noInsert="1" noUpdate="1"/><Ctrl noused="1" name="warehouseid"/><Ctrl noquery="1" nomodify="1" ctrlhide="1" name="adjuststatus" noInsert="1" noUpdate="1"/><Ctrl noquery="1" nomodify="1" ctrlhide="1" name="sendstatus" noInsert="1" noUpdate="1"/><Ctrl noquery="1" nomodify="1" ctrlhide="1" name="isfinishout" noInsert="1" noUpdate="1"/><Ctrl noquery="1" nomodify="1" ctrlhide="1" name="finishoutdate" noInsert="1" noUpdate="1"/><Ctrl noused="1" name="toprovince"/><Ctrl noused="1" name="tocity"/><Ctrl noused="1" name="toarea"/><Ctrl noused="1" name="fromprovince"/><Ctrl noused="1" name="fromcity"/><Ctrl noused="1" name="fromarea"/><Ctrl name="materialtype"/><Ctrl noquery="1" nomodify="1" ctrlhide="1" name="customerorderid" insertparam="uuid()" noUpdate="1"/><Ctrl noquery="1" nomodify="1" ctrlhide="1" name="createby" insertparam="'%{user_id}'" updateparam="'%{user_id}'" noUpdate="1"/><Ctrl noquery="1" nomodify="1" ctrlhide="1" name="createdate" insertparam="now()" noUpdate="1"/><Ctrl noquery="1" nomodify="1" ctrlhide="1" name="updateby" insertparam="'%{user_id}'" updateparam="'%{user_id}'"/><Ctrl noquery="1" nomodify="1" ctrlhide="1" name="updatedate" insertparam="now()" updateparam="now()"/><Ctrl noquery="1" nomodify="1" ctrldbname="tms." ctrlhide="1" name="carrierid" insertparam="'%{orgguid}'" noUpdate="1"/><Ctrl noquery="1" nomodify="1" ctrlhide="1" name="xtmst_customorder_id" noInsert="1" noInAndUp="1" noUpdate="1"><extelmt><![CDATA[<OnEnChange><if cond="'%{xtmst_customorder_id}'"><SetVisible name="insertxtmst_customorder" Visible="0"/><SetVisible name="modifyxtmst_customorder" Visible="1"/><else/><SetVisible name="insertxtmst_customorder" Visible="1"/><SetVisible name="modifyxtmst_customorder" Visible="0"/></if><DbDetails><Where>CustomerOrderID=(select CustomerOrderID from xtmst_customorder where xtmst_customorder_id='%{xtmst_customorder_id}')</Where></DbDetails><submit next="xtmst_customorderdetail_vLst" namelist="DbDetails"/></OnEnChange>]]></extelmt></Ctrl></Ctrls></biztoolcfg>